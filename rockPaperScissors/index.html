<!DOCTYPE html>
<html>

<head>
  <title> Rock Paper Scissors </title>
</head>
<body>
  <script>
    //Computer plays rock, paper or scissors randomly
    function computerPlay() {
      let random = getRandomInt(0,3);
      if (random == 0) return "Rock";
      else if (random == 1) return "Paper";
      else return "Scissors";
    }

    //helper random 0-1-2 (Rock, paper, Scissors)
    function getRandomInt(min, max) {
      min = Math.ceil(min);
      max = Math.floor(max);
      return Math.floor(Math.random() * (max - min)) + min;
    }

    function playRound(playerSelection, computerSelection) {
      //make it into standard format, only first letter capitalize
      playerSelection = playerSelection.charAt(0).toUpperCase() + playerSelection.slice(1).toLowerCase();
      //draws
      if (playerSelection == computerSelection) return draw(playerSelection, computerSelection);
      //all others
      else if (playerSelection == "Rock" && computerSelection == "Paper") {
        return lose(playerSelection, computerSelection);
      }
      else if (playerSelection == "Rock" && computerSelection == "Scissors") {
        return win(playerSelection, computerSelection);
      }
      else if (playerSelection == "Paper" && computerSelection == "Scissors") {
        return lose(playerSelection, computerSelection);
      }
      else if (playerSelection == "Paper" && computerSelection == "Rock") {
        return win(playerSelection, computerSelection);
      }
      else if (playerSelection == "Scissors" && computerSelection == "Rock") {
        return lose(playerSelection, computerSelection);
      }
      else if (playerSelection == "Scissors" && computerSelection == "Paper") {
        return win(playerSelection, computerSelection);
      }
    }

    //helper to clean code
    function win(playerSelection, computerSelection) {
      return `You win! ${playerSelection} beats ${computerSelection}`;
    }

    function lose(playerSelection, computerSelection) {
      return `You lose! ${computerSelection} beats ${playerSelection}`;
    }

    function draw(playerSelection, computerSelection) {
      return `Draw! ${playerSelection} is equal to ${computerSelection}`;
    }

    function game() {
      let userScore = 0;
      let computerScore = 0;
      for (let i = 0; i < 5; i++) {
        let playerSelection = prompt("Please input: Rock, Paper or Scissors");
        let computerSelection = computerPlay();
        let result = playRound(playerSelection, computerSelection);
        console.log(result);

        //add score to computer or user
        if (result.includes("win")) userScore++;
        else if (result.includes("lose")) computerScore++;
      }
      //showing final result after 5 rounds
      if (userScore == computerScore) {
        //console.log(`It's a draw! ${userScore} a piece!`);
        console.log(draw(userScore, computerScore));
      }
      else if (userScore > computerScore) {
        console.log(win(userScore, computerScore));
      }
      else {
        console.log(lose(userScore, computerScore));
      }
    }


    const playerSelection = 'rock';
    const computerSelection = computerPlay();
    console.log(playRound(playerSelection, computerSelection));
  </script>
</body>
</html>
